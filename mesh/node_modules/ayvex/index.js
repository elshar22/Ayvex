var RSVP = require('rsvp');  //so trying this lib instead
var Promise = RSVP.Promise;




module.exports = {

    'multiline' : function(f) {

	function trimit(x) {
	    return x.trim();
	}

	

	var EOL = "\n";
	var lines = f.toString().split(EOL).map( function(s) { return s.trim(); });
	
	//throw out first and last  //bugbug should be up until first \*\/
	lines.shift();  
	lines.pop();
	
	return lines.join(EOL);
    },


    'Exception' : function(reason) {
	return { 'reason': reason };
    },

    'contains' : function(corpus,sought) {
	return ( corpus.indexOf(sought) >= 0 );
    },

    'startsWith' : function(corpus,sought) {
	return ( corpus.indexOf(sought) == 0 );
    },

    'proSleep' : function(delayMs) {
	return new Promise(function(resolve,reject) {
	    setTimeout(function() {
		resolve('ok');
		//else in some wierd case call reject(reason)??
	    },delayMs);
	    
	});
    }

};



